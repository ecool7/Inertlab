# Настройка 3D моделей для продуктов

## Поддерживаемые форматы

3D модели должны быть в одном из следующих форматов:
- **glTF** (`.gltf` или `.glb`) - **рекомендуется** (лучшее качество и размер)
- **OBJ** (`.obj`) - поддерживается, но требует файл `.mtl` для материалов
- **STL** (`.stl`) - поддерживается, но без материалов

## Конвертация STEP → glTF/OBJ/STL

STEP файлы нужно конвертировать в веб-формат. Вот несколько способов:

### Способ 1: Онлайн конвертеры (самый простой)

1. **CAD Exchanger Cloud** (https://cadexchanger.com/cloud/)
   - Загрузите STEP файл
   - Выберите формат glTF или OBJ
   - Скачайте результат

2. **AnyConv** (https://anyconv.com/step-to-gltf-converter/)
   - Загрузите STEP файл
   - Конвертируйте в glTF
   - Скачайте `.glb` файл (бинарный glTF)

3. **CloudConvert** (https://cloudconvert.com/step-to-gltf)
   - Поддерживает конвертацию STEP → glTF

### Способ 2: Программное обеспечение

1. **Blender** (бесплатно)
   - Откройте Blender
   - File → Import → STEP (нужен плагин)
   - File → Export → glTF 2.0
   - Выберите формат `.glb` (бинарный, один файл)

2. **FreeCAD** (бесплатно)
   - Откройте STEP файл
   - File → Export → Wavefront OBJ

3. **Fusion 360** (бесплатно для личного использования)
   - Откройте STEP файл
   - File → Export → glTF

## Размещение файлов

1. Конвертируйте STEP файл в glTF/OBJ/STL
2. Поместите файл в папку `static/models/`
3. Если используете OBJ с материалами, поместите `.mtl` файл туда же
4. Если используете glTF с внешними текстурами, создайте подпапку для модели

Пример структуры:
```
static/
  models/
    bche1.glb          # Бинарный glTF (рекомендуется)
    bche1.gltf         # Или текстовый glTF
    bche1.obj          # Или OBJ
    bche1.mtl          # Материалы для OBJ (если нужны)
```

## Добавление модели к продукту

В файле `app.py` в структуре продукта добавьте поле `model3d`:

```python
{
    "slug": "БЧЭ1",
    "name": "БЧЭ1",
    # ... другие поля ...
    "model3d": "bche1.glb",  # Имя файла из папки static/models/
}
```

Если у продукта нет 3D модели, оставьте `"model3d": None` или не указывайте поле.

## Рекомендации

1. **Используйте `.glb` формат** - это бинарный glTF, один файл, оптимальный размер
2. **Оптимизируйте модель** - уменьшите количество полигонов если нужно
3. **Размер файла** - старайтесь чтобы модель была меньше 5-10 МБ для быстрой загрузки
4. **Текстуры** - если используете текстуры, они должны быть в формате JPG/PNG и включены в `.glb` или рядом с `.gltf`

## Проверка

После добавления модели:
1. Перезапустите сервер Flask
2. Откройте страницу продукта
3. 3D модель должна появиться как первый слайд в галерее
4. Модель можно вращать мышью и масштабировать колесиком

